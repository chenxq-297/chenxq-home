name: GitHub Actions Build and Deploy Demo

on:

  push:

    branches:

     - master

jobs:

  build-and-deploy:

    runs-on: ubuntu-latest

    steps:

      - name: checkout

        uses: actions/checkout@master

        # 安装依赖

      - name: install

        run: npm install

        # 打包构建

      - name: build

        run: npm run build

        # 部署运行

      - name: Deploy

        uses: peaceiris/actions-gh-pages@v3


        with:

          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
          FOLDER: dist
          publish_dir: ./dist
